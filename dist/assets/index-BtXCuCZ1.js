import{u,a as y,l as a,b as p,j as e,P as x,I as m,q as d,A as h,T as j,d as f,e as C,f as c,D as _,U as q}from"./index-eTQgwI9E.js";function A(){const{navigate:i,query:r}=u(),{data:o,isLoading:g}=y({url:"category",name:"category_list",params:{page:a.get(r,"page",1),filter:{title:a.get(r,"search_title",""),limit:a.get(r,"limit",20)}}}),{onModalOpen:l}=p();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx(x,{children:"Category"}),e.jsx(m,{placeholder:"Search by title",value:a.get(r,"search_title",""),onChange:n=>{const t=d.stringify({...r,search_title:n});i({search:t},{replace:!0})}}),e.jsx(h,{onClick:()=>l({type:"create_category"}),children:"Create category"})]}),e.jsx("div",{children:e.jsx(j,{items:a.get(o,"data",[]),columns:[{title:"â„–",render:(n,t,s)=>e.jsx("span",{children:s+1})},{title:"ID",dataIndex:"id",render:(n,t)=>e.jsx(e.Fragment,{children:a.get(t,"id","-")??"-"})},{title:"Category",render:(n,t)=>e.jsx(e.Fragment,{children:a.get(t,"title","-")??"-"})},{title:"Last Updated",dataIndex:"updatedAt",render:(n,t)=>a.get(t,"updatedAt","")!==null?f(a.get(t,"updatedAt")).format("DD-MM-YYYY HH:mm"):"-"},{title:"Actions",render:(n,t)=>e.jsxs("div",{className:"flex gap-1",children:[e.jsx(C,{title:"Add Subcategory",onClick:()=>{const s=c(d.stringify({...r,...t}));i({search:s}),l({type:"add_subcategory"})}}),e.jsx(_,{onClick:()=>{const s=c(d.stringify({id:t.id}));i({search:s}),l({type:"delete_category"})}}),e.jsx(q,{onClick:()=>{const s=c(d.stringify({...r,...t}));i({search:s}),l({type:"update_category"})}})]})}],meta:{currentPage:a.get(r,"page",1),totalCount:+a.get(o,"meta.total"),perPage:a.get(r,"limit",20),pageCount:a.get(o,"meta.totalPages")},isLoading:g})})]})}function b(){return e.jsx(A,{})}export{b as default};
